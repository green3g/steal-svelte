define("steal-svelte@1.0.0#pages/circle.html!steal-svelte-plugin",["exports"],function(t){"use strict";function e(){return{i:0,undoStack:[[]],adjusting:!1,adjusted:!1,circles:[]}}function n(t){return t.map(function(t){return{cx:t.cx,cy:t.cy,r:t.r}})}function i(t){a(t,"svelte-963741383","")}function c(){var t=d("style");t.id="svelte-963741383-style",t.textContent="[svelte-963741383].controls,[svelte-963741383] .controls{position:absolute;width:100%;text-align:center}svg[svelte-963741383],[svelte-963741383] svg{background-color:#eee;width:100%;height:100%}circle[svelte-963741383],[svelte-963741383] circle{stroke:black}[svelte-963741383].adjuster,[svelte-963741383] .adjuster{position:absolute;width:80%;top:50%;left:50%;transform:translate(-50%,-50%);padding:1em;text-align:center;background-color:rgba(255,255,255,0.5)}input[svelte-963741383][type='range'],[svelte-963741383] input[type='range']{width:100%}",f(t,document.head)}function s(t,e){function n(t){e.travel(-1)}function c(t){e.travel(1)}function s(t){e.handleClick(t)}function l(t){e.adjust(t)}for(var u,a,k,x,j,S,w,C,N,E,O=t.circles,B=[],L=0;L<O.length;L+=1)B[L]=r(t,O,O[L],L,e);var P=t.adjusting&&o(t,e);return{c:function(){u=d("div"),(a=d("button")).textContent="undo",x=h("\r\n\t"),(j=d("button")).textContent="redo",w=h("\r\n\r\n"),C=v("svg");for(var t=0;t<B.length;t+=1)B[t].c();N=h("\r\n\r\n"),P&&P.c(),E=_(),this.h()},h:function(){i(u),a.disabled=k=0===t.i,g(a,"click",n),j.disabled=S=t.i===t.undoStack.length-1,g(j,"click",c),u.className="controls",i(C),g(C,"click",s),g(C,"contextmenu",l)},m:function(t,e){p(u,t,e),f(a,u),f(x,u),f(j,u),p(w,t,e),p(C,t,e);for(var n=0;n<B.length;n+=1)B[n].m(C,null);p(N,t,e),P&&P.m(t,e),p(E,t,e)},p:function(t,n){t.i&&k!==(k=0===n.i)&&(a.disabled=k),(t.i||t.undoStack)&&S!==(S=n.i===n.undoStack.length-1)&&(j.disabled=S);var i=n.circles;if(t.circles||t.selected){for(var c=0;c<i.length;c+=1)B[c]?B[c].p(t,n,i,i[c],c):(B[c]=r(n,i,i[c],c,e),B[c].c(),B[c].m(C,null));for(;c<B.length;c+=1)B[c].u(),B[c].d();B.length=i.length}n.adjusting?P?P.p(t,n):((P=o(n,e)).c(),P.m(E.parentNode,E)):P&&(P.u(),P.d(),P=null)},u:function(){m(u),m(w),m(C);for(var t=0;t<B.length;t+=1)B[t].u();m(N),P&&P.u(),m(E)},d:function(){y(a,"click",n),y(j,"click",c),b(B),y(C,"click",s),y(C,"contextmenu",l),P&&P.d()}}}function r(t,e,n,i,c){var s,r,o,u,d;return{c:function(){s=v("circle"),this.h()},h:function(){a(s,"cx",r=n.cx),a(s,"cy",o=n.cy),a(s,"r",u=n.r),a(s,"fill",d=n===t.selected?"#ccc":"white"),g(s,"click",l),s._svelte={component:c,circles_1:e,circle_index:i}},m:function(t,e){p(s,t,e)},p:function(t,e,n,i,c){t.circles&&r!==(r=i.cx)&&a(s,"cx",r),t.circles&&o!==(o=i.cy)&&a(s,"cy",o),t.circles&&u!==(u=i.r)&&a(s,"r",u),(t.circles||t.selected)&&d!==(d=i===e.selected?"#ccc":"white")&&a(s,"fill",d),s._svelte.circles_1=n,s._svelte.circle_index=c},u:function(){m(s)},d:function(){y(s,"click",l)}}}function o(t,e){function n(){var t=e.get();t.selected.r=k(b.value),e.set({selected:t.selected})}function c(){var t=e.get();t.selected.r=k(b.value),e.set({selected:t.selected})}function s(t){e.set({adjusted:!0})}var r,o,l,u,a,v,_,b,x=t.selected.cx,j=t.selected.cy;return{c:function(){r=d("div"),o=d("p"),l=h("adjust diameter of circle at "),u=h(x),a=h(", "),v=h(j),_=h("\r\n\t\t"),b=d("input"),this.h()},h:function(){i(r),g(b,"input",n),g(b,"change",c),b.type="range",g(b,"input",s),r.className="adjuster"},m:function(e,n){p(r,e,n),f(o,r),f(l,o),f(u,o),f(a,o),f(v,o),f(_,r),f(b,r),b.value=t.selected.r},p:function(t,e){t.selected&&x!==(x=e.selected.cx)&&(u.data=x),t.selected&&j!==(j=e.selected.cy)&&(v.data=j),b.value=e.selected.r,b.value=e.selected.r},u:function(){m(r)},d:function(){y(b,"input",n),y(b,"change",c),y(b,"input",s)}}}function l(t){var e=this._svelte.component,n=this._svelte.circles_1[this._svelte.circle_index];e.select(n,t)}function u(t){x(this,t),this._state=j(e(),t.data),document.getElementById("svelte-963741383-style")||c(),this._fragment=s(this._state,this),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null))}function a(t,e,n){t.setAttribute(e,n)}function d(t){return document.createElement(t)}function f(t,e){e.appendChild(t)}function h(t){return document.createTextNode(t)}function v(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _(){return document.createComment("")}function g(t,e,n){t.addEventListener(e,n,!1)}function p(t,e,n){e.insertBefore(t,n)}function m(t){t.parentNode.removeChild(t)}function y(t,e,n){t.removeEventListener(e,n,!1)}function b(t){for(var e=0;e<t.length;e+=1)t[e]&&t[e].d()}function k(t){return""===t?void 0:+t}function x(t,e){t._observers={pre:C(),post:C()},t._handlers=C(),t._bind=e._bind,t.options=e,t.root=e.root||t,t.store=t.root.store||e.store}function j(t){for(var e,n,i=1,c=arguments.length;i<c;i++){n=arguments[i];for(e in n)t[e]=n[e]}return t}function S(t){this.destroy=w,this.fire("destroy"),this.set=this.get=w,!1!==t&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function w(){}function C(){return Object.create(null)}function N(t){for(;t&&t.length;)t.pop()()}function E(t,e){return t!==e||t&&"object"===(void 0===t?"undefined":B(t))||"function"==typeof t}function O(t,e,n,i,c){for(var s in e)if(n[s]){var r=i[s],o=c[s],l=e[s];if(l)for(var u=0;u<l.length;u+=1){var a=l[u];a.__calling||(a.__calling=!0,a.call(t,r,o),a.__calling=!1)}}}Object.defineProperty(t,"__esModule",{value:!0});var B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L={handleClick:function(t){if(this.get("adjusting"))return this.set({adjusting:!1}),void(this.get("adjusted")&&this.push());var e={cx:t.clientX,cy:t.clientY,r:50},n=this.get("circles");n.push(e),this.set({circles:n,selected:e}),this.push()},adjust:function(t){t.preventDefault(),this.get("selected")&&this.set({adjusting:!0,adjusted:!1})},select:function(t,e){this.get("adjusting")||(e.stopPropagation(),this.set({selected:t}))},push:function(){var t=this.get(),e=t.i,i=t.undoStack,c=t.circles;i.splice(++e),i.push(n(c)),this.set({i:e,undoStack:i})},travel:function(t){var e=this.get(),i=e.i,c=n(e.undoStack[i+=t]);this.set({circles:c,i:i,adjusting:!1})}};j(u.prototype,L,{destroy:S,get:function(t){return t?this._state[t]:this._state},fire:function(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var i=0;i<n.length;i+=1)n[i].call(this,e)},observe:function(t,e,n){var i=n&&n.defer?this._observers.post:this._observers.pre;return(i[t]||(i[t]=[])).push(e),n&&!1===n.init||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1),{cancel:function(){var n=i[t].indexOf(e);~n&&i[t].splice(n,1)}}},on:function(t,e){if("teardown"===t)return this.on("destroy",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}},set:function(t){this._set(j({},t)),this.root._lock||(this.root._lock=!0,N(this.root._beforecreate),N(this.root._oncreate),N(this.root._aftercreate),this.root._lock=!1)},teardown:S,_set:function(t){var e=this._state,n={},i=!1;for(var c in t)E(t[c],e[c])&&(n[c]=i=!0);i&&(this._state=j({},e,t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(O(this,this._observers.pre,n,this._state,e),this._fragment.p(n,this._state),O(this,this._observers.post,n,this._state,e)))},_mount:function(t,e){this._fragment.m(t,e)},_unmount:function(){this._fragment&&this._fragment.u()}}),u.prototype._recompute=w,t.default=u});
//# sourceMappingURL=circle.js.map