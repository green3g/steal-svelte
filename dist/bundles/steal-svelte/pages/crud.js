define("steal-svelte@1.0.0#pages/crud.html!steal-svelte-plugin",["exports"],function(t){"use strict";function e(t,e){return e?(e=e.toLowerCase(),t.filter(function(t){return(t.last+", "+t.first).toLowerCase().startsWith(e)})):t}function n(t,e){return t[e]}function i(){return{prefix:"",first:"",last:"",people:[],selected:null}}function r(){var t=this;this.observe("selected",function(e){e&&t.set(e)})}function s(t){c(t,"svelte-2443845473","")}function o(){var t=u("style");t.id="svelte-2443845473-style",t.textContent="[svelte-2443845473],[svelte-2443845473] *{font-family:inherit;font-size:inherit}input[svelte-2443845473],[svelte-2443845473] input{display:block;margin:0 0 0.5em 0}select[svelte-2443845473],[svelte-2443845473] select{float:left;margin:0 1em 1em 0;width:14em}[svelte-2443845473].buttons,[svelte-2443845473] .buttons{clear:both}",h(t,document.head)}function l(t,e){function n(){D=!0,e.set({prefix:x.value}),D=!1}function i(){F=!0,e.set({i:p(k)}),F=!1}function r(){G=!0,e.set({first:w.value}),G=!1}function o(){H=!0,e.set({last:L.value}),H=!1}function l(t){e.create()}function f(t){e.update()}function c(t){e.remove()}for(var x,P,k,C,S,w,O,E,L,j,N,z,B,M,q,A,I,T,W,D=!1,F=!1,G=!1,H=!1,J=t.filteredPeople,K=[],Q=0;Q<J.length;Q+=1)K[Q]=a(t,J,J[Q],Q,e);return{c:function(){x=u("input"),P=d("\r\n\r\n"),k=u("select");for(var t=0;t<K.length;t+=1)K[t].c();C=d("\r\n\r\n"),S=u("label"),w=u("input"),O=d("\r\n"),E=u("label"),L=u("input"),j=d("\r\n\r\n"),N=u("div"),(z=u("button")).textContent="create",M=d("\r\n\t"),(q=u("button")).textContent="update",I=d("\r\n\t"),(T=u("button")).textContent="delete",this.h()},h:function(){s(x),_(x,"input",n),x.placeholder="filter prefix",s(k),_(k,"change",i),"i"in t||e.root._beforecreate.push(i),k.size="5",s(S),_(w,"input",r),w.placeholder="first",s(E),_(L,"input",o),L.placeholder="last",s(N),z.disabled=B=!t.first||!t.last,_(z,"click",l),q.disabled=A=!t.first||!t.last||!t.selected,_(q,"click",f),T.disabled=W=!t.selected,_(T,"click",c),N.className="buttons"},m:function(e,n){v(x,e,n),x.value=t.prefix,v(P,e,n),v(k,e,n);for(var i=0;i<K.length;i+=1)K[i].m(k,null);m(k,t.i),v(C,e,n),v(S,e,n),h(w,S),w.value=t.first,v(O,e,n),v(E,e,n),h(L,E),L.value=t.last,v(j,e,n),v(N,e,n),h(z,N),h(M,N),h(q,N),h(I,N),h(T,N)},p:function(t,n){D||(x.value=n.prefix);var i=n.filteredPeople;if(t.filteredPeople){for(var r=0;r<i.length;r+=1)K[r]?K[r].p(t,n,i,i[r],r):(K[r]=a(n,i,i[r],r,e),K[r].c(),K[r].m(k,null));for(;r<K.length;r+=1)K[r].u(),K[r].d();K.length=i.length}F||m(k,n.i),G||(w.value=n.first),H||(L.value=n.last),(t.first||t.last)&&B!==(B=!n.first||!n.last)&&(z.disabled=B),(t.first||t.last||t.selected)&&A!==(A=!n.first||!n.last||!n.selected)&&(q.disabled=A),t.selected&&W!==(W=!n.selected)&&(T.disabled=W)},u:function(){g(x),g(P),g(k);for(var t=0;t<K.length;t+=1)K[t].u();g(C),g(S),g(O),g(E),g(j),g(N)},d:function(){b(x,"input",n),y(K),b(k,"change",i),b(w,"input",r),b(L,"input",o),b(z,"click",l),b(q,"click",f),b(T,"click",c)}}}function a(t,e,n,i,r){var s,o,l,a,f=n.last,c=n.first;return{c:function(){s=u("option"),o=d(f),l=d(", "),a=d(c),this.h()},h:function(){s.__value=i,s.value=s.__value},m:function(t,e){v(s,t,e),h(o,s),h(l,s),h(a,s)},p:function(t,e,n,i,r){t.filteredPeople&&f!==(f=i.last)&&(o.data=f),t.filteredPeople&&c!==(c=i.first)&&(a.data=c),s.value=s.__value},u:function(){g(s)},d:x}}function f(t){P(this,t),this._state=k(i(),t.data),this._recompute({people:1,prefix:1,filteredPeople:1,i:1},this._state),document.getElementById("svelte-2443845473-style")||o();var e=r.bind(this);t.root?this.root._oncreate.push(e):(this._oncreate=[e],this._beforecreate=[]),this._fragment=l(this._state,this),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null),C(this._beforecreate),C(this._oncreate))}function c(t,e,n){t.setAttribute(e,n)}function u(t){return document.createElement(t)}function h(t,e){e.appendChild(t)}function p(t){var e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function d(t){return document.createTextNode(t)}function _(t,e,n){t.addEventListener(e,n,!1)}function v(t,e,n){e.insertBefore(t,n)}function m(t,e){for(var n=0;n<t.options.length;n+=1){var i=t.options[n];if(i.__value===e)return void(i.selected=!0)}}function g(t){t.parentNode.removeChild(t)}function b(t,e,n){t.removeEventListener(e,n,!1)}function y(t){for(var e=0;e<t.length;e+=1)t[e]&&t[e].d()}function x(){}function P(t,e){t._observers={pre:O(),post:O()},t._handlers=O(),t._bind=e._bind,t.options=e,t.root=e.root||t,t.store=t.root.store||e.store}function k(t){for(var e,n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(e in n)t[e]=n[e]}return t}function C(t){for(;t&&t.length;)t.pop()()}function S(t){this.destroy=x,this.fire("destroy"),this.set=this.get=x,!1!==t&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function w(t,e){return t!==e||t&&"object"===(void 0===t?"undefined":L(t))||"function"==typeof t}function O(){return Object.create(null)}function E(t,e,n,i,r){for(var s in e)if(n[s]){var o=i[s],l=r[s],a=e[s];if(a)for(var f=0;f<a.length;f+=1){var c=a[f];c.__calling||(c.__calling=!0,c.call(t,o,l),c.__calling=!1)}}}Object.defineProperty(t,"__esModule",{value:!0});var L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j={create:function(){var t=this.get(),e=t.first,n=t.last,i=t.people;i.push({first:e,last:n}),this.set({people:i,first:"",last:"",i:i.length-1})},update:function(){var t=this.get(),e=t.first,n=t.last,i=t.selected,r=t.people;i.first=e,i.last=n,this.set({people:r,selected:i})},remove:function(){var t=this.get(),e=t.people,n=t.selected,i=t.i,r=e.indexOf(n);e.splice(r,1),this.set({people:e,first:"",last:"",i:Math.min(i,e.length-1)})}};k(f.prototype,j,{destroy:S,get:function(t){return t?this._state[t]:this._state},fire:function(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var i=0;i<n.length;i+=1)n[i].call(this,e)},observe:function(t,e,n){var i=n&&n.defer?this._observers.post:this._observers.pre;return(i[t]||(i[t]=[])).push(e),n&&!1===n.init||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1),{cancel:function(){var n=i[t].indexOf(e);~n&&i[t].splice(n,1)}}},on:function(t,e){if("teardown"===t)return this.on("destroy",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}},set:function(t){this._set(k({},t)),this.root._lock||(this.root._lock=!0,C(this.root._beforecreate),C(this.root._oncreate),C(this.root._aftercreate),this.root._lock=!1)},teardown:S,_set:function(t){var e=this._state,n={},i=!1;for(var r in t)w(t[r],e[r])&&(n[r]=i=!0);i&&(this._state=k({},e,t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(E(this,this._observers.pre,n,this._state,e),this._fragment.p(n,this._state),E(this,this._observers.post,n,this._state,e)))},_mount:function(t,e){this._fragment.m(t,e)},_unmount:function(){this._fragment&&this._fragment.u()}}),f.prototype._recompute=function(t,i){(t.people||t.prefix)&&w(i.filteredPeople,i.filteredPeople=e(i.people,i.prefix))&&(t.filteredPeople=!0),(t.filteredPeople||t.i)&&w(i.selected,i.selected=n(i.filteredPeople,i.i))&&(t.selected=!0)},t.default=f});
//# sourceMappingURL=crud.js.map